---
id: camera_setup
title: 摄像头设置
---

输出 H.264 视频和 AAC 音频的摄像头可提供与 Frigate 及 Home Assistant 所有功能的最佳兼容性。H.265 虽有更高压缩率，但相对而言兼容性较差，仅 Firefox 134+/136+/137+ (Windows/Mac/Linux & Android)、Chrome 108+、Safari 和 Edge 浏览器支持播放 H.265，且仅兼容部分 H.265 配置。同时建议直接在摄像头中配置你希望在 Frigate 中使用的分辨率和帧率，因为在 Frigate 内降低帧率会浪费 CPU 资源解码被丢弃的冗余帧。你需要围绕以下三个目标调整视频流配置：

- **检测**：这是 Frigate 唯一会解码处理的视频流，也是生成快照的来源。检测分辨率应根据目标物体大小进行调整（详见[选择检测分辨率](#选择检测分辨率)）。推荐帧率为 5 帧，但对高速移动目标可能需要更高（多数用户建议最大不超过 10fps）。更高的分辨率和帧率会导致服务器 CPU 负载升高。

- **录像**：此视频流应设置为需要存储的参考分辨率，通常使用摄像头支持的最高分辨率。同时建议在摄像头管理页面中将此视频流帧率设为 15 帧。

- **实时监控**：此视频流将直接转播至 Home Assistant 的流媒体组件。设置过高分辨率会在观看时占用大量带宽，低速网络连接下可能无法稳定加载。

### 选择检测分辨率

理想的检测分辨率应使目标物体完全适配 Frigate 使用的模型尺寸（320x320）。需要注意的是，Frigate **不会将整个画面传递给目标检测器**，而是从画面中裁剪画面变动的区域进行分析。若检测的区域大于 320x320，Frigate 必须在检测前进行缩放。**更高分辨率不会提升检测精度**，因为额外细节会在缩放过程中丢失。下方参考图展示了 320x320 区域在常见分辨率中的实际占比。

不过，当目标物体在画面中**非常小**时，更高分辨率确实能**提升性能**。

![分辨率对照图](/img/resolutions-min.jpg)

### 摄像头配置示例

以大华/Loryta 5442 摄像头为例，推荐配置如下：

**主码流（录像与 RTSP）**

- 编码模式：H.264
- 分辨率：2688\*1520
- 帧率：15 帧
- 关键帧间隔：30（也可设为 15 以优化流媒体性能，详见[摄像头设置建议](/configuration/live#摄像头设置建议)）

**子码流（检测）**

- 启用：子码流 2
- 编码模式：H.264
- 分辨率：1280\*720
- 帧率：5 帧
- 关键帧间隔：5
